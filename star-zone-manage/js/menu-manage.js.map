{"version":3,"sources":["menu-manage.es6"],"names":[],"mappings":"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","file":"menu-manage.js","sourcesContent":["var vm = new Vue({\r\n    el: '#app',\r\n    data: function () {\r\n        return {\r\n            isCollapse: false,\r\n            dialogVisible: false,\r\n            menus: [],\r\n            subMenus: [],\r\n            defaultProps: {\r\n                children: 'children',\r\n                label: 'label'\r\n            },\r\n            treeloading: false,\r\n            action: '',\r\n            formMenuLabel: '',\r\n            formMenuUrl: '',\r\n            currentNode: {\r\n                id:null,\r\n                label:'',\r\n                level:0,\r\n                parentId:null,\r\n                url:null\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        showAddForm() {\r\n            this.action = 'add'\r\n            this.dialogVisible = true;\r\n        },\r\n        showModifyForm(){\r\n            this.action = 'modify'\r\n\r\n            this.formMenuLabel = this.currentNode.label\r\n            this.formMenuUrl = this.currentNode.url\r\n\r\n            this.dialogVisible = true;\r\n        },\r\n        hideForm() {\r\n            this.action = ''\r\n            this.formMenuLabel = null\r\n            this.formMenuUrl = null\r\n            this.dialogVisible = false\r\n        },\r\n        cancelForm() {\r\n            this.formMenu = {\r\n                id: '',\r\n                label: '',\r\n                menuOrder: '',\r\n                url: '',\r\n                isValid: true\r\n            };\r\n\r\n            this.hideForm()\r\n        },\r\n        resetChecked() {\r\n            this.$refs.tree.setCheckedKeys([]);\r\n        },\r\n        handleClose() {\r\n            this.dialogVisible = false;\r\n        },\r\n        getTree(){\r\n            axios.get(ctxPath + 'api/menu/gettree').then(function (response) {\r\n                vm.menus = response.data.result;\r\n            }).catch(function (error) {\r\n                console.log(error);\r\n            });\r\n        },\r\n        treeClick(data,node,obj){\r\n\r\n            //console.log(data);\r\n\r\n            var keys = this.$refs.tree.getCheckedKeys();\r\n            var id = data.id;\r\n\r\n            if(keys.length == 0){\r\n                this.$refs.tree.setCheckedKeys([id]);\r\n\r\n                this.currentNode = data;\r\n            }else{\r\n\r\n                if(keys.indexOf(id) >= 0){\r\n                    this.$refs.tree.setCheckedKeys([]);\r\n                    this.currentNode = {\r\n                        id:null,\r\n                        label:'',\r\n                        level:0,\r\n                        parentId:null,\r\n                        url:null\r\n                    }\r\n                }else{\r\n                    this.$refs.tree.setCheckedKeys([id]);\r\n                    this.currentNode = data;\r\n                }\r\n            }\r\n        },\r\n        treeChange(data,ischeck,issubcheck){\r\n            var id = data.id;\r\n\r\n            if(ischeck){\r\n                this.$refs.tree.setCheckedKeys([id]);\r\n                this.currentNode = data;\r\n            }\r\n        },\r\n        submitForm(){\r\n            if(this.action == 'add'){\r\n                this.addMenu()\r\n            }else if(this.action == 'modify'){\r\n                this.modifyMenu();\r\n            }\r\n        },\r\n        addMenu(){\r\n            axios.get(ctxPath + 'api/menu/add', {\r\n                params: {\r\n                    parentId: this.currentNode.id,\r\n                    label: this.formMenuLabel,\r\n                    url: this.formMenuUrl,\r\n                    level: this.currentNode.level+1,\r\n                    valid: true\r\n                }\r\n            }).then(function (response) {\r\n                vm.getTree()\r\n                vm.hideForm()\r\n\r\n                vm.resetChecked()\r\n            }).catch(function (error) {\r\n                console.log(error);\r\n            });\r\n        },\r\n        modifyMenu(){\r\n            axios.get(ctxPath + 'api/menu/modify', {\r\n                params: {\r\n                    id: this.currentNode.id,\r\n                    label: this.formMenuLabel,\r\n                    url: this.formMenuUrl\r\n                }\r\n            }).then(function (response) {\r\n                vm.getTree()\r\n                vm.hideForm()\r\n\r\n                vm.resetChecked()\r\n            }).catch(function (error) {\r\n                console.log(error);\r\n            });\r\n        },\r\n        delMenu(){\r\n\r\n            this.$confirm('此操作将删除导航'+this.currentNode.label+', 是否继续?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {\r\n                axios.get(ctxPath +'api/menu/delete', {\r\n                    params: {\r\n                        id: this.currentNode.id\r\n                    }\r\n                }).then(function (response) {\r\n                    vm.getTree()\r\n                    vm.hideForm()\r\n\r\n                    vm.resetChecked()\r\n                }).catch(function (error) {\r\n                    console.log(error);\r\n                });\r\n            }).catch(() => {\r\n                /*this.$message({\r\n                    type: 'info',\r\n                    message: '已取消删除'\r\n                });*/\r\n            });\r\n        },\r\n        moveUp(){\r\n            this.treeloading = true;\r\n\r\n            axios.get(ctxPath + 'api/menu/move', {\r\n                params: {\r\n                    id: this.currentNode.id,\r\n                    direction: -1\r\n                }\r\n            }).then(function (response) {\r\n                vm.getTree()\r\n                vm.hideForm()\r\n\r\n                vm.resetChecked()\r\n\r\n                vm.treeloading = false;\r\n            }).catch(function (error) {\r\n                console.log(error);\r\n                vm.treeloading = false;\r\n            });\r\n\r\n        },\r\n        moveDown(){\r\n            this.treeloading = true;\r\n\r\n            axios.get(ctxPath + 'api/menu/move', {\r\n                params: {\r\n                    id: this.currentNode.id,\r\n                    direction: 1\r\n                }\r\n            }).then(function (response) {\r\n                vm.getTree()\r\n                vm.hideForm()\r\n                vm.resetChecked()\r\n\r\n                vm.treeloading = false;\r\n            }).catch(function (error) {\r\n                console.log(error);\r\n\r\n                vm.treeloading = false;\r\n            });\r\n\r\n        }\r\n    },\r\n    computed:{\r\n        canAdd:function(){\r\n            return this.currentNode.id!=null && this.currentNode.level != 2\r\n        },\r\n        canModify:function(){\r\n            return this.currentNode.id!=null && this.currentNode.id != -1\r\n        },\r\n        canDel: function(){\r\n            //这里后面改用isLeaf实现\r\n            return this.currentNode.id!=null &&\r\n                (\r\n                    this.currentNode.level==2\r\n                    || (this.currentNode.level==1\r\n                        && (this.currentNode.children == null || this.currentNode.children.length==0))\r\n                )\r\n        },\r\n        canSubmit:function(){\r\n            return this.formMenuLabel!=null && this.formMenuUrl!=null && this.formMenuLabel.length>0 && this.formMenuUrl.length>0\r\n        },\r\n        canMoveUp:function(){\r\n            if(this.currentNode.id!=null && this.currentNode.id != -1){//选择了节点并且不是根节点\r\n                var level = this.currentNode.level;\r\n                if(level == 1){\r\n                    if(this.menus[0].children[0].id == this.currentNode.id){//说明选择了第一个元素，不能上移\r\n                        return false;\r\n                    }else{\r\n                        return true;\r\n                    }\r\n                }else if(level == 2){\r\n                    var parentId = this.currentNode.parentId;\r\n\r\n                    var parentNode = null;\r\n\r\n                    for(var i=0;i<this.menus[0].children.length;i++){\r\n                        if(this.menus[0].children[i].id == parentId){\r\n                            //console.log(true)\r\n                            parentNode = this.menus[0].children[i]\r\n                        }\r\n                    }\r\n\r\n                    var children = parentNode.children\r\n\r\n                    if(children[0].id == this.currentNode.id){\r\n                        return false;\r\n                    }else{\r\n                        return true\r\n                    }\r\n                }\r\n            }else{\r\n                return false\r\n            }\r\n        },\r\n        canMoveDown:function(){\r\n            if(this.currentNode.id!=null && this.currentNode.id != -1){//选择了节点并且不是根节点\r\n                var level = this.currentNode.level;\r\n                if(level == 1){\r\n                    var lastIndex = this.menus[0].children.length-1\r\n                    if(this.menus[0].children[lastIndex].id == this.currentNode.id){//说明选择了最后一个元素，不能下移\r\n                        return false;\r\n                    }else{\r\n                        return true;\r\n                    }\r\n                }else if(level == 2){\r\n                    var parentId = this.currentNode.parentId;\r\n\r\n                    var parentNode = null;\r\n\r\n                    for(var i=0;i<this.menus[0].children.length;i++){\r\n                        if(this.menus[0].children[i].id == parentId){\r\n                            parentNode = this.menus[0].children[i]\r\n                        }\r\n                    }\r\n\r\n                    var children = parentNode.children\r\n                    var lastIndex = children.length-1\r\n\r\n                    if(children[lastIndex].id == this.currentNode.id){\r\n                        return false\r\n                    }else{\r\n                        return true\r\n                    }\r\n                }\r\n            }else{\r\n                return false\r\n            }\r\n        },\r\n        handleOpen(key, keyPath) {\r\n            //console.log(key, keyPath);\r\n        },\r\n        handleClose(key, keyPath) {\r\n           // console.log(key, keyPath);\r\n        }\r\n    }\r\n})\r\n\r\nvm.getTree();"]}